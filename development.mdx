---
title: "Desenvolvimento local"
description: "Configure a Social API localmente com Go + Make para desenvolver e iterar"
---

Este √© o jeito mais r√°pido para desenvolver e iterar na Social API.

---

## **1. Instalar pr√©-requisitos**

### **Instalar Go 1.24+**

**macOS (Homebrew):**

```bash
brew install go
```

**Linux (apt):**

```bash
sudo apt update
sudo apt install golang-go
```

**Verificar instala√ß√£o:**

```bash
go version
```

---

### **Instalar Make**

**macOS (Homebrew):**

```bash
brew install make
```

**Linux:**

```bash
sudo apt install make
```

---

### **(Opcional) Instalar jq para parsing de JSON**

√ötil para seguir os exemplos de Jobs:

**macOS:**

```bash
brew install jq
```

**Linux:**

```bash
sudo apt install jq
```

---

## **2. Clonar o reposit√≥rio e configurar**

```bash
git clone <repo-url>
cd social-go
cp .env.example .env
```

Edite `.env` com suas credenciais reais:

```env
DATABASE_URL=postgres://postgres.[ref]:[pass]@db.[ref].supabase.co:5432/postgres?sslmode=require
APIFY_TOKEN=apify_api_xxxxx
GEMINI_API_KEY=AIzaSyxxxxx
INTERNAL_SECRET=sua-chave-secreta
PORT=8080
ENV=development
```

<Warning>
**IMPORTANTE:**
* Use **porta 5432**, n√£o 6543 (pooler do Supabase quebra o pgx).
* Senhas com `@`, `&` etc devem ser **URL encoded**.
</Warning>

---

## **3. Rodar a API**

```bash
make run
```

A API estar√° dispon√≠vel em:

* Swagger UI ‚Üí `http://localhost:8080/docs/`
* Healthcheck ‚Üí `http://localhost:8080/health`

---

## **4. Testar se est√° funcionando**

```bash
curl http://localhost:8080/health
```

Esperado:

```
OK
```

Se isso funcionou‚Ä¶ parab√©ns üéâ ‚Äî a Social API est√° no ar.

---

## **5. Sua primeira chamada real: conectar uma conta**

```bash
export INTERNAL_SECRET="sua-chave-secreta"
export ENTERPRISE_ID="123e4567-e89b-12d3-a456-426614174000" # UUID v4

curl -X POST http://localhost:8080/connect \
  -H "X-Internal-Secret: $INTERNAL_SECRET" \
  -H "X-Enterprise-Id: $ENTERPRISE_ID" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "contyapp",
    "platform": "INSTAGRAM",
    "options": {
      "fetch_profile": true,
      "fetch_posts": true,
      "fetch_reels": true,
      "posts_limit": 20,
      "reels_limit": 20,
      "newer_than": "7 days"
    }
  }'
```

---

## **6. Listar contas**

```bash
curl http://localhost:8080/accounts \
  -H "X-Internal-Secret: $INTERNAL_SECRET" \
  -H "X-Enterprise-Id: $ENTERPRISE_ID"
```

---

## **7. Dashboard consolidado**

```bash
ACCOUNT_ID="123e4567-e89b-12d3-a456-426614174000"

curl "http://localhost:8080/accounts/$ACCOUNT_ID/dashboard?limit=5" \
  -H "X-Internal-Secret: $INTERNAL_SECRET" \
  -H "X-Enterprise-Id: $ENTERPRISE_ID"
```
